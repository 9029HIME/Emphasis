# 独立数据库

最简单粗暴的方案，隔离级别最高，安全性能最好，但是成本很高。

为 软件内每一个接入的客户 动态生成一份数据库应用，缺点也是很明显的，比如

1. 硬件成本较高。
2. 代码需要动态切换数据源，获取客户对应的数据（现场部署的软件除外）。
3. 需求进行升级与维护的时候，需要维护每个客户的数据库。
4. 多客户信息的汇总、统计很复杂，毕竟分库了，需要使用特定的分析软件。

**所以这个方案更适用于服务对象不差钱的业务，毕竟上面的缺点都需要用钱解决，最好是交给客户承担了。**

# 独立表

粒度相对较小的方式，隔离级别一般，安全与性能一般，成本比较均衡。

为 软件内每一个接入的客户 动态生成一张表，缺点也是很明显的，比如

1. 无法充分使用BufferPool。
1. 数据库本身的可用性要保证，如故障转移、容灾恢复。
2. 数据库本身的性能有要求，请求资源要合理分配。比如A客户在某些时段请求量很大，会挤压其他客户的数据库请求连接数。
3. 代码需要动态切换访问的表，获取客户对应的数据。

**这套方案是比较均衡的做法，一般用在中小型SAAS公司里。**

# 独立行

一般能想到的方式，隔离级别最差，安全性最差，性能最差，成本也最低，但开发成本很低。

所有客户的信息都在一张表里，通过特定字段如“客户ID”进行区分，缺点也很明显，比如

1. 无法充分使用BufferPool。
2. 没有隔离性，所有数据糅杂在一张表里，仅通过**索引**完成快速查询。
3. 无法对单个客户进行定制化服务。
4. 需要考虑后期的分库分表。

**一般来说，这个方案更适合初创项目，用于快速交付时使用，不是可迭代产品的首选。**