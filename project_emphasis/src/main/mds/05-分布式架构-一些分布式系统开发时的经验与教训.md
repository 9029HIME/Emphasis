# 独立服务对整体业务流程的影响

比如网络、一致性、软状态。不要为了微服务而微服务，比如低延迟的业务场景要慎重拆分服务，业务量小的服务没必要拆分。有时候单体应用的使用会比微服务要好得多，毕竟微服务还要考虑很多业务痛点：

服务不可用怎么办？熔断与降级

数据发生不一致怎么办？软状态与最终一致性

我们该怎么对数据进行兜底处理？错误记录与人工介入

# 单一职责

早期可以将业务顺序紧密的两个系统耦合，比如授信和风控，后期再将他们两个拆开也可以。

# 依赖顺序

在一个主流程中，服务是有优先级之分的，高优先级的服务调用低优先级的服务，比如授信-风控、授信-短信。低优先级的服务不应该调用高优先级服务，出现循环调用是不允许的、违反原则的。

# 服务磨合

服务不是一下子就能够拆分好的，比如AA检索服务、BB检索服务、CC检索服务，到后期可以合并为一个通用检索服务。当然，磨合过程中必定会带来项目的迭代、测试、投产、验收成本，这也是需要慎重决定的。

# 服务数据隔离

不同服务之间的数据应该是独立存储，相互隔离的，服务之间的数据是通过Restful、MQ、或者其他RPC方式交互，这也是为什么在早期单体结构时，不要乱用join。

# 串行调用不可取

当A服务需要B、C、D三个服务的数据时，在B、C、D数据同级无耦合的情况下，可采用聚合器模式来实现，底层思想和Future异步请求差不多，从而减少单次流程的IO耗时。